(function(){"use strict";var e={7787:function(e,a,s){var t=s(5130),l=s(6768),o=s(4232);const n={id:"app"},r={class:"navbar"},i={class:"nav-container"},c={class:"nav-links"},u={key:2,class:"user-info-dropdown"},d={class:"user-name"},v={key:0,class:"dropdown-menu"},p={class:"main-content"};function m(e,a,s,m,k,f){const g=(0,l.g2)("router-link"),h=(0,l.g2)("router-view"),b=(0,l.g2)("FooterElement"),L=(0,l.g2)("ConfirmationModal");return(0,l.uX)(),(0,l.CE)("div",n,[a[9]||(a[9]=(0,l.Lk)("title",null,"ToDo —Å–ø–∏—Å–æ–∫ ¬´–§–æ–∫—É—Å¬ª",-1)),a[10]||(a[10]=(0,l.eW)()),(0,l.Lk)("nav",r,[(0,l.Lk)("div",i,[a[8]||(a[8]=(0,l.Lk)("div",{class:"nav-brand"},[(0,l.Lk)("h2",{class:"brand-title"},"ToDo —Å–ø–∏—Å–æ–∫ ¬´–§–æ–∫—É—Å¬ª")],-1)),(0,l.Lk)("div",c,[m.user?((0,l.uX)(),(0,l.Wv)(g,{key:0,to:"/tasks",class:"nav-link"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.Lk)("span",{class:"nav-icon"},"üìã",-1),(0,l.Lk)("span",{class:"nav-text"},"–ó–∞–¥–∞—á–∏",-1)]))),_:1,__:[3]})):(0,l.Q3)("",!0),m.user?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("button",{class:"user-info-button",onClick:a[0]||(a[0]=(...e)=>m.toggleDropdown&&m.toggleDropdown(...e))},[a[5]||(a[5]=(0,l.Lk)("span",{class:"user-icon"},"üë§",-1)),(0,l.Lk)("span",d,(0,o.v_)(m.user?.displayName||m.user?.email||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"),1),(0,l.Lk)("span",{class:(0,o.C4)(["dropdown-arrow",{rotated:m.dropdownOpen}])},"‚ñº",2)]),m.dropdownOpen?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>m.handleLogout&&m.handleLogout(...e)),class:"dropdown-item"},a[6]||(a[6]=[(0,l.Lk)("span",{class:"dropdown-icon"},"‚û°Ô∏è",-1),(0,l.eW)(" –í—ã–π—Ç–∏ ")])),(0,l.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>m.openDeleteConfirmation&&m.openDeleteConfirmation(...e)),class:"dropdown-item delete-account-item"},a[7]||(a[7]=[(0,l.Lk)("span",{class:"dropdown-icon"},"üóëÔ∏è",-1),(0,l.eW)(" –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç ")]))])):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.Wv)(g,{key:1,to:"/login",class:"nav-link"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.Lk)("span",{class:"nav-icon"},"üîê",-1),(0,l.Lk)("span",{class:"nav-text"},"–í–æ–π—Ç–∏",-1)]))),_:1,__:[4]}))])])]),(0,l.Lk)("main",p,[(0,l.bF)(h,null,{default:(0,l.k6)((({Component:e})=>[(0,l.bF)(t.eB,{name:"page",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e),{user:m.user,ref:"mainPageRef",onShowReauthModal:m.openReauthModal},null,40,["user","onShowReauthModal"]))])),_:2},1024)])),_:1})]),(0,l.bF)(b),(0,l.bF)(L,{isVisible:m.showReauthModal,title:"–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",message:"–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–µ–¥–∞–≤–Ω–µ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–π–¥–∏—Ç–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞, –∑–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É.",confirmButtonText:"–ü–æ–Ω—è—Ç–Ω–æ",onConfirm:m.closeReauthModalAndLogout,onCancel:m.closeReauthModal},null,8,["isVisible","onConfirm","onCancel"])])}var k=s(6400),f=s(5942),g=s(7617),h=s(7236),b=s(970);const L={apiKey:"AIzaSyAVcs56OYlFDq0jb13MgJr7gcM1TR9lJiE",authDomain:"todo-focus-d59b1.firebaseapp.com",projectId:"todo-focus-d59b1",storageBucket:"todo-focus-d59b1.firebasestorage.app",messagingSenderId:"520960174304",appId:"1:520960174304:web:047d83bbc1ba1d917f8885",measurementId:"G-9T29LYWMG5"},w=(0,k.Wp)(L),y=((0,f.P5)(w),(0,g.aU)(w)),C=(0,h.xI)(w);(0,b.Ay)(w,{provider:new b._u("6LeG6E4rAAAAAAeHxKj7NuSv8QkglW1IoybdYyZY"),isTokenAutoRefreshEnabled:!0}),(0,h.oM)(C,h.F0).then((()=>{console.log("Firebase Auth persistence set to 'local'.")})).catch((e=>{const a=e.code,s=e.message;console.error("Error setting Firebase Auth persistence:",a,s)}));const E={class:"app-footer"},_={class:"footer-container"},x={class:"footer-bottom"},R={class:"copyright"};function A(e,a,s,t,n,r){return(0,l.uX)(),(0,l.CE)("footer",E,[(0,l.Lk)("div",_,[a[0]||(a[0]=(0,l.Fv)('<div class="footer-content" data-v-c3e4910c><div class="footer-section" data-v-c3e4910c><p class="footer-text primary" data-v-c3e4910c> –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ <a href="https://firebase.google.com/" target="_blank" rel="noopener noreferrer" class="footer-link firebase" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üî•</span> Firebase </a>, —Ä–∞–∑–º–µ—â–µ–Ω–æ –Ω–∞ <a href="https://github.com/Morunka/todo-focus" target="_blank" rel="noopener noreferrer" class="footer-link github" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üìÇ</span> Github pages </a></p><p class="footer-text secondary" data-v-c3e4910c> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é <a href="https://vuejs.org" target="_blank" rel="noopener noreferrer" class="footer-link vue" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>‚ö°</span> Vue.js </a> –æ—Ç <a href="https://t.me/MEOW_MUR920" target="_blank" rel="noopener noreferrer" class="footer-link author" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üë®‚Äçüíª</span> Morunka </a></p></div><div class="footer-stats" data-v-c3e4910c><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>üì±</span><span class="stat-text" data-v-c3e4910c>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π</span></div><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>‚ö°</span><span class="stat-text" data-v-c3e4910c>–ë—ã—Å—Ç—Ä—ã–π</span></div><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>üîí</span><span class="stat-text" data-v-c3e4910c>–ó–∞—â–∏—â–µ–Ω–Ω—ã–π</span></div></div></div><div class="footer-divider" data-v-c3e4910c></div>',2)),(0,l.Lk)("div",x,[(0,l.Lk)("p",R," ¬© "+(0,o.v_)(r.currentYear)+" ToDo —Å–ø–∏—Å–æ–∫ ¬´–§–æ–∫—É—Å¬ª. ",1)])])])}var K={name:"FooterElement",computed:{currentYear(){return(new Date).getFullYear()}}},X=s(1241);const B=(0,X.A)(K,[["render",A],["__scopeId","data-v-c3e4910c"]]);var D=B;const F={class:"modal-dialog"},P={class:"modal-header"},I={class:"modal-title"},M={class:"modal-body"},T={key:0,class:"modal-loading"},S={key:1},V={key:0,class:"modal-error-message"},U=["disabled"],W=["disabled"];function $(e,a,s,n,r,i){return(0,l.uX)(),(0,l.Wv)(t.eB,{name:"modal-fade"},{default:(0,l.k6)((()=>[s.isVisible?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[3]||(a[3]=(0,t.D$)(((...e)=>i.cancel&&i.cancel(...e)),["self"]))},[(0,l.Lk)("div",F,[(0,l.Lk)("div",P,[(0,l.Lk)("h3",I,(0,o.v_)(s.title),1),s.showCloseButton||null!==s.cancelButtonText?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"close-button",onClick:a[0]||(a[0]=(...e)=>i.cancel&&i.cancel(...e))},a[4]||(a[4]=[(0,l.Lk)("span",{class:"close-icon"},"‚úï",-1)]))):(0,l.Q3)("",!0)]),(0,l.Lk)("div",M,[(0,l.Lk)("p",{class:(0,o.C4)(["modal-message",{"has-input-error":s.inputErrorMessage}])},(0,o.v_)(s.message),3),s.isLoading?((0,l.uX)(),(0,l.CE)("div",T,a[5]||(a[5]=[(0,l.Lk)("div",{class:"modal-spinner"},null,-1),(0,l.Lk)("p",{class:"loading-text"},"–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞...",-1)]))):((0,l.uX)(),(0,l.CE)("div",S,[(0,l.RG)(e.$slots,"content",{},void 0,!0),s.inputErrorMessage?((0,l.uX)(),(0,l.CE)("p",V,(0,o.v_)(s.inputErrorMessage),1)):(0,l.Q3)("",!0)]))]),(0,l.Lk)("div",{class:(0,o.C4)(["modal-footer",{"single-button-footer":s.confirmButtonText&&null===s.cancelButtonText}])},[null!==s.cancelButtonText?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"cancel-button",onClick:a[1]||(a[1]=(...e)=>i.cancel&&i.cancel(...e)),disabled:s.isLoading},(0,o.v_)(s.cancelButtonText),9,U)):(0,l.Q3)("",!0),null!==s.confirmButtonText?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"confirm-button",onClick:a[2]||(a[2]=(...e)=>i.confirm&&i.confirm(...e)),disabled:s.isLoading},(0,o.v_)(s.confirmButtonText),9,W)):(0,l.Q3)("",!0)],2)])])):(0,l.Q3)("",!0)])),_:3})}var Q={props:{isVisible:{type:Boolean,default:!1},title:{type:String,default:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"},message:{type:String,default:"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ?"},confirmButtonText:{type:String,default:"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"},cancelButtonText:{type:String,default:"–û—Ç–º–µ–Ω–∞"},showCloseButton:{type:Boolean,default:!0},inputErrorMessage:{type:String,default:""},isLoading:{type:Boolean,default:!1}},methods:{confirm(){this.isLoading||this.$emit("confirm")},cancel(){this.isLoading||null===this.cancelButtonText&&!this.showCloseButton||this.$emit("cancel")}}};const q=(0,X.A)(Q,[["render",$],["__scopeId","data-v-5111db83"]]);var N=q,O=s(144),j=s(1387),J={components:{FooterElement:D,ConfirmationModal:N},setup(){const e=(0,O.KR)(null),a=(0,O.KR)(null),s=(0,O.KR)(!1),t=(0,O.KR)(!1),o=(0,j.rd)(),n=(0,j.lq)();(0,h.hg)(C,(e=>{a.value=e}));const r=async()=>{try{await(0,h.CI)(C),s.value=!1,console.log("User successfully logged out. Redirecting to /login."),"/login"!==n.path&&o.replace("/login")}catch(e){console.error("Error logging out:",e),alert(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ: ${e.message}`)}},i=()=>{s.value=!s.value},c=e=>{const a=document.querySelector(".user-info-dropdown");s.value&&a&&!a.contains(e.target)&&(s.value=!1)},u=()=>{s.value=!1,e.value&&"function"===typeof e.value.promptDeleteAccount?e.value.promptDeleteAccount():(console.warn("MainPage component or promptDeleteAccount method not found via ref."),alert("–û—à–∏–±–∫–∞: –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."))},d=()=>{t.value=!0},v=()=>{t.value=!1},p=()=>{v(),r()};return(0,l.sV)((()=>{document.addEventListener("click",c)})),(0,l.hi)((()=>{document.removeEventListener("click",c)})),{user:a,dropdownOpen:s,showReauthModal:t,mainPageRef:e,handleLogout:r,toggleDropdown:i,openDeleteConfirmation:u,openReauthModal:d,closeReauthModal:v,closeReauthModalAndLogout:p}}};const G=(0,X.A)(J,[["render",m]]);var H=G;s(8111),s(3579),s(4114);const Y={class:"login-container"},z={class:"login-card"},Z={class:"form-group"},ee={class:"input-wrapper"},ae={key:0,class:"error-message"},se={class:"form-group"},te={class:"input-wrapper"},le=["type"],oe={key:0,class:"error-message"},ne={class:"form-options"},re={class:"checkbox-wrapper"},ie=["disabled"],ce={key:0,class:"button-content"},ue={key:1,class:"loading-spinner"},de={class:"login-footer"},ve={class:"footer-text"},pe={key:0,class:"error-message text-center"},me={key:1,class:"info-message text-center"},ke=["disabled"],fe={key:0,class:"small-loading-spinner"},ge={key:1},he={key:2},be={key:2,class:"success-message text-center"};var Le={__name:"LoginView",setup(e){const a=(0,j.rd)(),s=(0,O.KR)(""),n=(0,O.KR)(""),r=(0,O.KR)(!1),i=(0,O.KR)(!0),c=(0,O.KR)(!1),u=(0,O.KR)(!1),d=(0,O.KR)({}),v=(0,O.KR)(""),p=(0,O.KR)(!1),m=(0,O.KR)(0);let k=null;const f=(0,O.KR)(""),g=(0,O.KR)(null),b=(0,l.EW)((()=>""!==s.value.trim()&&""!==n.value.trim()&&!d.value.email&&!d.value.password)),L=()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;s.value?e.test(s.value)?delete d.value.email:d.value.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email":d.value.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},w=()=>{n.value?n.value.length<6?d.value.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤":delete d.value.password:d.value.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},y=e=>{delete d.value[e],v.value="",p.value=!1,f.value="",g.value=null},E=e=>{m.value=e,k&&clearInterval(k),k=setInterval((()=>{m.value>0?m.value--:(clearInterval(k),k=null)}),1e3)},_=async()=>{if(L(),w(),v.value="",p.value=!1,f.value="",g.value=null,b.value){c.value=!0;try{await(0,h.oM)(C,i.value?h.F0:h.iM);const e=await(0,h.x9)(C,s.value,n.value),t=e.user;t.emailVerified?a.push("/tasks"):(g.value=t,await(0,h.CI)(C),v.value='–í–∞—à Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—é –ø–æ—á—Ç—É (–∏ –ø–∞–ø–∫—É "–°–ø–∞–º"!) –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤–æ–π—Ç–∏.',p.value=!0,E(60))}catch(e){switch(console.error("Login error:",e.code,e.message),e.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":v.value="–ù–µ–≤–µ—Ä–Ω—ã–π Email –∏–ª–∏ –ø–∞—Ä–æ–ª—å.";break;case"auth/invalid-email":v.value="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞.";break;case"auth/too-many-requests":v.value="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",p.value=!0,E(60);break;case"auth/network-request-failed":v.value="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;default:v.value="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. "+e.message;break}}finally{c.value=!1}}},x=async()=>{const e=g.value||C.currentUser;if(e){u.value=!0,f.value="",v.value="";try{await(0,h.gA)(e),f.value="–ü–∏—Å—å–º–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π Email.",E(60)}catch(a){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞:",a),"auth/too-many-requests"===a.code?(v.value="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∏—Å—å–º–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ.",E(60)):v.value="–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."}finally{u.value=!1}}};return(0,l.xo)((()=>{k&&(clearInterval(k),k=null)})),(e,a)=>{const k=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Y,[(0,l.Lk)("div",z,[a[16]||(a[16]=(0,l.Lk)("div",{class:"login-header"},[(0,l.Lk)("div",{class:"login-icon"},"üîë"),(0,l.Lk)("h1",{class:"login-title"},"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"),(0,l.Lk)("p",{class:"login-subtitle"},"–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å")],-1)),(0,l.Lk)("form",{onSubmit:(0,t.D$)(_,["prevent"]),class:"login-form"},[(0,l.Lk)("div",Z,[a[7]||(a[7]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",ee,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),type:"email",class:(0,o.C4)(["form-input",{error:d.value.email}]),placeholder:"example@email.com",onBlur:L,onInput:a[1]||(a[1]=e=>y("email")),required:""},null,34),[[t.Jo,s.value]]),a[6]||(a[6]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[d.value.email?((0,l.uX)(),(0,l.CE)("p",ae,(0,o.v_)(d.value.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",se,[a[8]||(a[8]=(0,l.Lk)("label",{class:"form-label"},"–ü–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",te,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:r.value?"text":"password",class:(0,o.C4)(["form-input",{error:d.value.password}]),placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:w,onInput:a[3]||(a[3]=e=>y("password")),required:""},null,42,le),[[t.hp,n.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[4]||(a[4]=e=>r.value=!r.value)},(0,o.v_)(r.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[d.value.password?((0,l.uX)(),(0,l.CE)("p",oe,(0,o.v_)(d.value.password),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",ne,[(0,l.Lk)("label",re,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=e=>i.value=e),class:"checkbox"},null,512),[[t.lH,i.value]]),a[9]||(a[9]=(0,l.Lk)("span",{class:"checkmark"},null,-1)),a[10]||(a[10]=(0,l.Lk)("span",{class:"checkbox-text"},"–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è",-1))]),(0,l.bF)(k,{to:"/reset-password",class:"forgot-password-link"},{default:(0,l.k6)((()=>a[11]||(a[11]=[(0,l.eW)("–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?")]))),_:1,__:[11]})]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["login-button",{loading:c.value}]),disabled:c.value||!b.value},[c.value?((0,l.uX)(),(0,l.CE)("span",ue)):((0,l.uX)(),(0,l.CE)("span",ce,a[12]||(a[12]=[(0,l.Lk)("span",{class:"button-text"},"–í–æ–π—Ç–∏",-1),(0,l.Lk)("span",{class:"button-icon"},"‚Üí",-1)])))],10,ie)],32),(0,l.Lk)("div",de,[(0,l.Lk)("p",ve,[a[14]||(a[14]=(0,l.eW)(" –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? ")),(0,l.bF)(k,{to:"/register",class:"register-link"},{default:(0,l.k6)((()=>a[13]||(a[13]=[(0,l.eW)("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")]))),_:1,__:[13]})]),v.value?((0,l.uX)(),(0,l.CE)("p",pe,(0,o.v_)(v.value),1)):(0,l.Q3)("",!0),p.value?((0,l.uX)(),(0,l.CE)("p",me,[a[15]||(a[15]=(0,l.eW)(" –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–π Email. ")),(0,l.Lk)("button",{onClick:x,disabled:u.value||m.value>0,class:"resend-email-button"},[u.value?((0,l.uX)(),(0,l.CE)("span",fe)):m.value>0?((0,l.uX)(),(0,l.CE)("span",ge,"–ü–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑ "+(0,o.v_)(m.value)+"—Å",1)):((0,l.uX)(),(0,l.CE)("span",he,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ"))],8,ke)])):(0,l.Q3)("",!0),f.value?((0,l.uX)(),(0,l.CE)("p",be,(0,o.v_)(f.value),1)):(0,l.Q3)("",!0)])]),a[17]||(a[17]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1))])}}};const we=(0,X.A)(Le,[["__scopeId","data-v-0b3c1bdc"]]);var ye=we;const Ce={class:"register-container"},Ee={class:"register-card"},_e={class:"form-group"},xe={class:"input-wrapper"},Re={key:0,class:"error-message"},Ae={class:"form-group"},Ke={class:"input-wrapper"},Xe=["type"],Be={class:"password-strength"},De={class:"strength-bar"},Fe={class:"strength-text"},Pe={key:0,class:"error-message"},Ie={class:"form-group"},Me={class:"input-wrapper"},Te=["type"],Se={key:0,class:"error-message"},Ve={class:"form-options"},Ue={class:"checkbox-wrapper"},We=["disabled"],$e={key:0,class:"button-content"},Qe={key:1,class:"loading-spinner"},qe={class:"register-footer"},Ne={class:"footer-text"};var Oe={__name:"RegisterView",emits:["show-notification"],setup(e,{emit:a}){const s=(0,j.rd)(),n=a,r=(0,O.KR)(""),i=(0,O.KR)(""),c=(0,O.KR)(""),u=(0,O.KR)(!1),d=(0,O.KR)(!1),v=(0,O.KR)(!1),p=(0,O.KR)(!1),m=(0,O.Kh)({email:"",password:"",confirmPassword:""}),k=(0,O.Kh)({email:!1,password:!1,confirmPassword:!1}),f=(0,O.KR)(!1),g=(0,O.KR)(!1),b=(0,O.KR)(""),L=(0,l.EW)((()=>k.email&&k.password&&k.confirmPassword&&v.value)),w=(0,l.EW)((()=>{const e=i.value;let a=0;return e.length>=8&&a++,/[a-z]/.test(e)&&a++,/[A-Z]/.test(e)&&a++,/[0-9]/.test(e)&&a++,/[^A-Za-z0-9]/.test(e)&&a++,a})),y=(0,l.EW)((()=>""===i.value?"":w.value<=2?"weak":w.value<=3?"medium":"strong")),E=(0,l.EW)((()=>""===i.value?"":w.value<=2?"–°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å":w.value<=3?"–°—Ä–µ–¥–Ω–∏–π –ø–∞—Ä–æ–ª—å":"–°–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å")),_=()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;r.value.trim()?e.test(r.value)?(m.email="",k.email=!0):(m.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email",k.email=!1):(m.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",k.email=!1)},x=()=>{i.value?i.value.length<6?(m.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤",k.password=!1):(m.password="",k.password=!0):(m.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",k.password=!1),c.value&&R()},R=()=>{c.value?i.value!==c.value?(m.confirmPassword="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç",k.confirmPassword=!1):(m.confirmPassword="",k.confirmPassword=!0):(m.confirmPassword="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",k.confirmPassword=!1)},A=e=>{m[e]=""},K=()=>{f.value=!1,s.push("/login")},X=()=>{f.value=!1},B=e=>{b.value=e,g.value=!0},D=()=>{g.value=!1,b.value=""},F=async()=>{if(b.value="",m.email="",m.password="",m.confirmPassword="",_(),x(),R(),!v.value)return void B("–í—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.");const e=Object.values(m).some((e=>""!==e));if(!e&&L.value){p.value=!0;try{const e=await(0,h.eJ)(C,r.value,i.value),a=e.user;if(!a)throw new Error("User object is undefined after successful registration (unexpected).");await(0,h.r7)(a,{displayName:r.value.split("@")[0]}),console.log("User profile updated."),await(0,h.gA)(a),console.log("Email verification sent to:",a.email),await(0,h.CI)(C),console.log("User signed out."),r.value="",i.value="",c.value="",v.value=!1,k.email=!1,k.password=!1,k.confirmPassword=!1,f.value=!0}catch(a){console.error("Registration error:",a.code,a.message);let e="";switch(a.code){case"auth/email-already-in-use":e="–≠—Ç–æ—Ç Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π Email.",m.email=e;break;case"auth/invalid-email":e="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞.",m.email=e;break;case"auth/weak-password":e="–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤, –≤–∫–ª—é—á–∞—è –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã.",m.password=e;break;case"auth/network-request-failed":e="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;case"auth/operation-not-allowed":e="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ Email/–ø–∞—Ä–æ–ª—é –æ—Ç–∫–ª—é—á–µ–Ω–∞. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.";break;default:e=`–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ${a.message}. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.`;break}B(e)}finally{p.value=!1}}else n("show-notification","–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ.","error",3e3)};return(e,a)=>{const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ce,[(0,l.Lk)("div",Ee,[a[16]||(a[16]=(0,l.Lk)("div",{class:"register-header"},[(0,l.Lk)("div",{class:"register-icon"},"üìù"),(0,l.Lk)("h1",{class:"register-title"},"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"),(0,l.Lk)("p",{class:"register-subtitle"},"–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å")],-1)),(0,l.Lk)("form",{onSubmit:(0,t.D$)(F,["prevent"]),class:"register-form"},[(0,l.Lk)("div",_e,[a[8]||(a[8]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",xe,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),type:"email",class:(0,o.C4)(["form-input",{error:m.email,success:k.email}]),placeholder:"example@email.com",onBlur:_,required:""},null,34),[[t.Jo,r.value]]),a[7]||(a[7]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[m.email?((0,l.uX)(),(0,l.CE)("p",Re,(0,o.v_)(m.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Ae,[a[9]||(a[9]=(0,l.Lk)("label",{class:"form-label"},"–ü–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",Ke,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),type:u.value?"text":"password",class:(0,o.C4)(["form-input",{error:m.password,success:k.password}]),placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:x,required:""},null,42,Xe),[[t.hp,i.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=e=>u.value=!u.value)},(0,o.v_)(u.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.Lk)("div",Be,[(0,l.Lk)("div",De,[(0,l.Lk)("div",{class:(0,o.C4)(["strength-fill",y.value])},null,2)]),(0,l.Lk)("span",Fe,(0,o.v_)(E.value),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[m.password?((0,l.uX)(),(0,l.CE)("p",Pe,(0,o.v_)(m.password),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Ie,[a[10]||(a[10]=(0,l.Lk)("label",{class:"form-label"},"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",Me,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),type:d.value?"text":"password",class:(0,o.C4)(["form-input",{error:m.confirmPassword,success:k.confirmPassword}]),placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:R,onInput:a[4]||(a[4]=e=>A("confirmPassword")),required:""},null,42,Te),[[t.hp,c.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[5]||(a[5]=e=>d.value=!d.value)},(0,o.v_)(d.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[m.confirmPassword?((0,l.uX)(),(0,l.CE)("p",Se,(0,o.v_)(m.confirmPassword),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Ve,[(0,l.Lk)("label",Ue,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>v.value=e),class:"checkbox"},null,512),[[t.lH,v.value]]),a[11]||(a[11]=(0,l.Lk)("span",{class:"checkmark"},null,-1)),a[12]||(a[12]=(0,l.Lk)("span",{class:"checkbox-text"},[(0,l.eW)(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å "),(0,l.Lk)("a",{href:"#",class:"terms-link"},"—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"),(0,l.eW)(" –∏ "),(0,l.Lk)("a",{href:"#",class:"terms-link"},"–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏")],-1))])]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["register-button",{loading:p.value}]),disabled:p.value||!L.value},[p.value?((0,l.uX)(),(0,l.CE)("span",Qe)):((0,l.uX)(),(0,l.CE)("span",$e,a[13]||(a[13]=[(0,l.Lk)("span",{class:"button-text"},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",-1),(0,l.Lk)("span",{class:"button-icon"},"‚ú®",-1)])))],10,We)],32),(0,l.Lk)("div",qe,[(0,l.Lk)("p",Ne,[a[15]||(a[15]=(0,l.eW)(" –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ")),(0,l.bF)(s,{to:"/login",class:"login-link"},{default:(0,l.k6)((()=>a[14]||(a[14]=[(0,l.eW)("–í–æ–π—Ç–∏")]))),_:1,__:[14]})])])]),a[17]||(a[17]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1)),(0,l.bF)(N,{isVisible:f.value,title:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!",message:"–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π Email (–∏ –ø–∞–ø–∫—É '–°–ø–∞–º'!) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ù–∞–∂–º–∏—Ç–µ '–î–∞–ª–µ–µ', —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –≤—Ö–æ–¥—É.",confirmButtonText:"–î–∞–ª–µ–µ",cancelButtonText:null,showCloseButton:!1,onConfirm:K,onCancel:X},null,8,["isVisible"]),(0,l.bF)(N,{isVisible:g.value,title:"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",message:b.value,confirmButtonText:"–û–ö",cancelButtonText:null,showCloseButton:!0,onConfirm:D,onCancel:D},null,8,["isVisible","message"])])}}};const je=(0,X.A)(Oe,[["__scopeId","data-v-b1397b62"]]);var Je=je;const Ge={class:"reset-password-container"},He={class:"reset-password-card"},Ye={class:"form-group"},ze={class:"input-wrapper"},Ze=["disabled"],ea={key:0,class:"error-message"},aa=["disabled"],sa={key:0,class:"button-content"},ta={key:1,class:"loading-spinner"},la={class:"reset-password-footer"},oa={class:"back-to-login"};function na(e,a,s,n,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ge,[(0,l.Lk)("div",He,[a[8]||(a[8]=(0,l.Lk)("div",{class:"reset-password-header"},[(0,l.Lk)("div",{class:"reset-password-icon"},"üîê"),(0,l.Lk)("h1",{class:"reset-password-title"},"–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è"),(0,l.Lk)("p",{class:"reset-password-subtitle"},"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email, –∏ –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –≤–∞–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è.")],-1)),(0,l.Lk)("form",{onSubmit:a[3]||(a[3]=(0,t.D$)(((...e)=>i.handleResetPassword&&i.handleResetPassword(...e)),["prevent"])),class:"reset-password-form"},[(0,l.Lk)("div",Ye,[a[5]||(a[5]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",ze,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.email=e),type:"email",class:(0,o.C4)(["form-input",{error:r.errors.email}]),placeholder:"example@email.com",onBlur:a[1]||(a[1]=(...e)=>i.validateEmail&&i.validateEmail(...e)),onInput:a[2]||(a[2]=e=>i.clearError("email")),disabled:r.isLoading,required:""},null,42,Ze),[[t.Jo,r.email]]),a[4]||(a[4]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[r.errors.email?((0,l.uX)(),(0,l.CE)("p",ea,(0,o.v_)(r.errors.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["reset-button",{loading:r.isLoading}]),disabled:r.isLoading||!i.isFormValid},[r.isLoading?((0,l.uX)(),(0,l.CE)("span",ta)):((0,l.uX)(),(0,l.CE)("span",sa,a[6]||(a[6]=[(0,l.Lk)("span",{class:"button-text"},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1),(0,l.Lk)("span",{class:"button-icon"},"üì§",-1)])))],10,aa)],32),(0,l.Lk)("div",la,[(0,l.bF)(t.eB,{name:"message"},{default:(0,l.k6)((()=>[r.message?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,o.C4)({"success-message":r.isSuccess,"error-message":!r.isSuccess})},(0,o.v_)(r.message),3)):(0,l.Q3)("",!0)])),_:1}),(0,l.Lk)("div",oa,[(0,l.bF)(c,{to:"/login",class:"back-link"},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.Lk)("span",{class:"back-icon"},"‚Üê",-1),(0,l.eW)(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫–æ –≤—Ö–æ–¥—É ")]))),_:1,__:[7]})])])]),a[9]||(a[9]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1))])}var ra={name:"ResetPasswordView",data(){return{email:"",isLoading:!1,message:"",isSuccess:!1,errors:{}}},computed:{isFormValid(){return""!==this.email.trim()&&!this.errors.email}},methods:{validateEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.email?e.test(this.email)?delete this.errors.email:this.errors.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email":this.errors.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},clearError(e){delete this.errors[e],this.message="",this.isSuccess=!1},async handleResetPassword(){if(this.validateEmail(),this.isFormValid){this.isLoading=!0,this.message="",this.isSuccess=!1;try{await(0,h.J1)(C,this.email),this.message='–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–°–ø–∞–º", –µ—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –ø–∏—Å—å–º–∞. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.',this.isSuccess=!0,this.email=""}catch(e){switch(console.error("–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è:",e.code,e.message),this.isSuccess=!1,e.code){case"auth/invalid-email":this.message="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email.";break;case"auth/user-not-found":this.message="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω.";break;case"auth/too-many-requests":this.message="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";break;case"auth/network-request-failed":this.message="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;default:this.message="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Å—ã–ª–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";break}}finally{this.isLoading=!1}}}}};const ia=(0,X.A)(ra,[["render",na],["__scopeId","data-v-aaeea976"]]);var ca=ia;s(2489),s(116),s(7588),s(1701);const ua={class:"task-container"},da={class:"header"},va={class:"title"},pa={class:"stats"},ma={class:"stat-item"},ka={class:"stat-number"},fa={class:"stat-item"},ga={class:"stat-number"},ha={class:"sync-section"},ba={class:"sync-controls"},La=["disabled"],wa={class:"button-text"},ya={class:"auto-sync-toggle"},Ca={class:"sync-icon"},Ea={class:"button-text"},_a={key:0,class:"sync-status"},xa={class:"next-sync-text"},Ra={key:0,class:"last-updated"},Aa={class:"update-text"},Ka={class:"input-section"},Xa={class:"input-group"},Ba=["disabled"],Da=["disabled"],Fa=["disabled"],Pa={key:0,class:"button-content"},Ia={key:1,class:"loading-content"},Ma={class:"filter-section"},Ta={class:"filter-buttons"},Sa={class:"tasks-section"},Va={class:"task-content"},Ua={class:"task-left"},Wa=["onClick","disabled"],$a={key:0,class:"checkmark"},Qa={class:"task-info"},qa={class:"task-meta"},Na={class:"task-date"},Oa={class:"task-actions"},ja={key:0,class:"updating-spinner"},Ja=["onClick","disabled"],Ga={key:0,class:"empty-state"},Ha={class:"empty-icon"},Ya={class:"empty-text"},za={class:"modal-input-group"},Za=1e4;var es={__name:"MainPage",props:{msg:{type:String,default:"–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á"},user:{type:Object,default:null}},emits:["show-reauth-modal"],setup(e,{expose:a,emit:s}){const n=s,r=(0,j.rd)(),i=e,c=(0,O.KR)(""),u=(0,O.KR)("normal"),d=(0,O.KR)([]),v=(0,O.KR)(!1),p=(0,O.KR)(!1),m=(0,O.KR)("all"),k=(0,O.KR)(!1),f=(0,O.KR)(!0),b=(0,O.KR)(!1),L=(0,O.KR)(null),w=(0,O.KR)(0),E=(0,O.KR)(Date.now());let _=null,x=null,R=null;const A=(0,O.KR)(!1),K=(0,O.KR)(""),X=(0,O.KR)(!1),B=(0,O.KR)(""),D=(0,O.KR)(""),F=(0,O.KR)("");const P=(0,l.EW)((()=>d.value.filter((e=>e.completed)))),I=(0,l.EW)((()=>d.value.filter((e=>!e.completed)))),M=(0,l.EW)((()=>{switch(m.value){case"completed":return P.value;case"pending":return I.value;default:return[...d.value].sort(((e,a)=>{const s=e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt),t=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return t.getTime()-s.getTime()}))}})),T=async e=>{if(e)try{const a=(0,g.H9)(y,"userPreferences",e),s=await(0,g.x7)(a);if(s.exists()){const e=s.data();"boolean"===typeof e.autoSyncEnabled&&(f.value=e.autoSyncEnabled,console.log("Loaded autoSyncEnabled from Firestore:",e.autoSyncEnabled))}else console.log("No user preferences found for this user. Will use default autoSyncEnabled: true.")}catch(a){console.error("Error loading user preferences:",a)}else console.log("No userId provided to loadUserPreferences. Skipping preference load.")},S=async(e,a)=>{if(i.user&&i.user.uid)try{const s=(0,g.H9)(y,"userPreferences",i.user.uid);await(0,g.BN)(s,{[e]:a},{merge:!0}),console.log(`User preference '${e}' saved as '${a}' to Firestore.`)}catch(s){console.error(`Error saving user preference '${e}':`,s)}else console.error("Cannot save user preference: User not authenticated or UID unavailable.")},V=async e=>{if(!e)return d.value=[],void console.log("Cannot load tasks: No user ID provided (user logged out or not initialized).");k.value=!0,b.value=!0;try{const a=(0,g.P)((0,g.rJ)(y,"tasks"),(0,g._M)("userId","==",e),(0,g.My)("createdAt","desc")),s=await(0,g.GG)(a);d.value=s.docs.map((e=>({id:e.id,deleting:!1,updating:!1,completed:e.data().completed??!1,difficulty:e.data().difficulty??"normal",createdAt:e.data().createdAt,text:e.data().text}))),L.value=new Date}catch(a){console.error("Error loading tasks:",a)}finally{setTimeout((()=>{b.value=!1,k.value=!1}),500)}},U=async()=>{i.user&&i.user.uid&&!k.value?f.value?(Q(),await V(i.user.uid),$()):await V(i.user.uid):console.log("Refresh aborted: User not authenticated or already refreshing.")},W=()=>{f.value=!f.value,S("autoSyncEnabled",f.value),f.value?$():Q()},$=()=>{i.user&&i.user.uid?(Q(),V(i.user.uid),_=setInterval((async()=>{console.log("Auto-sync: Refreshing tasks..."),i.user&&i.user.uid?(await V(i.user.uid),w.value=Za/1e3):(console.log("Auto-sync interval detected user logged out. Stopping auto-sync."),Q())}),Za),w.value=Za/1e3,x=setInterval((()=>{w.value>0&&w.value--}),1e3),console.log("Auto-sync enabled (polling every 10 seconds).")):console.log("Cannot start auto-sync: User not authenticated or UID unavailable.")},Q=()=>{_&&(clearInterval(_),_=null),x&&(clearInterval(x),x=null),w.value=0,console.log("Auto-sync disabled.")},q=async()=>{if(!c.value.trim())return v.value=!0,void setTimeout((()=>{v.value=!1}),500);if(!i.user||!i.user.uid)return console.error("User not authenticated to add task."),void showNotification("–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á.","error");p.value=!0;try{await new Promise((e=>setTimeout(e,500)));const e={text:c.value.trim(),completed:!1,difficulty:u.value,createdAt:new Date,userId:i.user.uid},a=await(0,g.gS)((0,g.rJ)(y,"tasks"),e);d.value.unshift({id:a.id,deleting:!1,updating:!1,...e}),c.value="",u.value="normal",showNotification("–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!","success")}catch(e){console.error("Error adding task:",e),showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏.","error")}finally{p.value=!1}},J=async e=>{const a=d.value.find((a=>a.id===e));if(!a||!i.user||!i.user.uid)return void console.error("Cannot toggle task: Task not found or user not authenticated.");const s=a.completed;a.updating=!0,a.completed=!a.completed;try{await new Promise((e=>setTimeout(e,300))),await(0,g.mZ)((0,g.H9)(y,"tasks",e),{completed:a.completed}),showNotification("–ó–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!","success")}catch(t){console.error("Error updating task:",t),a.completed=s,showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏.","error")}finally{a.updating=!1}},G=async e=>{const a=d.value.findIndex((a=>a.id===e));if(-1===a||!i.user||!i.user.uid)return void console.error("Cannot delete task: Task not found or user not authenticated.");const s=d.value[a];s.deleting=!0;try{await new Promise((e=>setTimeout(e,300))),await(0,g.kd)((0,g.H9)(y,"tasks",e)),d.value=d.value.filter((a=>a.id!==e)),showNotification("–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!","success")}catch(t){console.error("Error deleting task:",t),s&&(s.deleting=!1),showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏.","error")}},H=e=>{const a={easy:"–õ–µ–≥–∫–æ",normal:"–ù–æ—Ä–º–∞–ª—å–Ω–æ",hard:"–°–ª–æ–∂–Ω–æ"};return a[e]||a.normal},Y=e=>{if(!e)return"";let a;return a=e.toDate&&"function"===typeof e.toDate?e.toDate():e instanceof Date?e:new Date(e),isNaN(a.getTime())?"–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞":a.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"})},z=()=>{if(!L.value)return"";const e=new Date(E.value),a=Math.floor((e.getTime()-L.value.getTime())/1e3);if(a<60)return a<=5?"—Ç–æ–ª—å–∫–æ —á—Ç–æ":`${a} —Å–µ–∫. –Ω–∞–∑–∞–¥`;if(a<3600){const e=Math.floor(a/60);return`${e} –º–∏–Ω. –Ω–∞–∑–∞–¥`}if(a<86400){const e=Math.floor(a/3600);return`${e} —á–∞—Å. –Ω–∞–∑–∞–¥`}return L.value.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})},Z=()=>{switch(m.value){case"completed":return"–ù–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á";case"pending":return"–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!";default:return"–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!"}},ee=()=>{i.user?(K.value="",B.value="",X.value=!1,A.value=!0):showNotification("–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã.","error")},ae=async()=>{const e=C.currentUser;if(B.value="",e&&e.email)if(K.value.trim()){X.value=!0;try{console.log("Attempting client-side re-authentication...");const a=h.IX.credential(e.email,K.value);await(0,h.kZ)(e,a),console.log("Client-side re-authentication successful."),showNotification("–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞. –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞...","success",1500),console.log(`Attempting to delete tasks for user: ${e.uid}`);const s=(0,g.rJ)(y,"tasks"),t=(0,g.P)(s,(0,g._M)("userId","==",e.uid)),l=await(0,g.GG)(t),o=[];l.forEach((e=>{o.push((0,g.kd)(e.ref))})),await Promise.all(o),console.log(`Successfully deleted ${l.size} tasks for user.`),showNotification("–í—Å–µ –∑–∞–¥–∞—á–∏ —É–¥–∞–ª–µ–Ω—ã.","success",1e3);const n=(0,g.H9)(y,"userPreferences",e.uid),i=await(0,g.x7)(n);i.exists()&&(await(0,g.kd)(n),console.log(`Successfully deleted user preferences for user: ${e.uid}`),showNotification("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–¥–∞–ª–µ–Ω—ã.","success",1e3)),await(0,h.hG)(e),console.log("User account successfully deleted. Redirecting to /register."),showNotification("–ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω. –í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã.","success",3e3),await(0,h.CI)(C),A.value=!1,K.value="",setTimeout((()=>{r.replace("/register")}),2500)}catch(a){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞:",a);let e="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç.";if(a.code)if("auth/wrong-password"===a.code||"auth/invalid-credential"===a.code)B.value="–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å.",e="–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";else if("auth/user-not-found"===a.code)e="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω —É–∂–µ –±—ã–ª —É–¥–∞–ª–µ–Ω.";else{if("auth/requires-recent-login"===a.code)return void n("show-reauth-modal");e="permission-denied"===a.code?`–û—à–∏–±–∫–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore. (${a.message})`:"unavailable"===a.code?"–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ —Å–ª—É–∂–±—ã Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.":`–û—à–∏–±–∫–∞ Firebase: ${a.message}`}else e=`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: ${a.message||a}`;showNotification(e,"error",5e3)}finally{X.value=!1}}else B.value="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å.";else showNotification("–û—à–∏–±–∫–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ Email –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.","error")};return(0,l.wB)((()=>i.user),(async(e,a)=>{e&&e.uid?(console.log("MainPage: User prop changed to logged in:",e.uid),await T(e.uid),f.value?$():await V(e.uid)):a&&!e&&(console.log("MainPage: User prop changed to logged out."),d.value=[],Q())}),{immediate:!0}),(0,l.sV)((()=>{R=setInterval((()=>{E.value=Date.now()}),1e3)})),(0,l.hi)((()=>{Q(),R&&(R=null)})),a({promptDeleteAccount:ee}),(a,s)=>((0,l.uX)(),(0,l.CE)("div",ua,[(0,l.bF)(t.eB,{name:"fade"},{default:(0,l.k6)((()=>[D.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,o.C4)(["notification",F.value])},(0,o.v_)(D.value),3)):(0,l.Q3)("",!0)])),_:1}),(0,l.Lk)("div",da,[(0,l.Lk)("h1",va,(0,o.v_)(e.msg),1),(0,l.Lk)("div",pa,[(0,l.Lk)("div",ma,[(0,l.Lk)("span",ka,(0,o.v_)(P.value.length),1),s[6]||(s[6]=(0,l.Lk)("span",{class:"stat-label"},"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",-1))]),(0,l.Lk)("div",fa,[(0,l.Lk)("span",ga,(0,o.v_)(I.value.length),1),s[7]||(s[7]=(0,l.Lk)("span",{class:"stat-label"},"–û—Å—Ç–∞–ª–æ—Å—å",-1))])])]),(0,l.Lk)("div",ha,[(0,l.Lk)("div",ba,[(0,l.Lk)("button",{onClick:U,class:(0,o.C4)(["refresh-button",{refreshing:k.value}]),disabled:k.value},[(0,l.Lk)("span",{class:(0,o.C4)(["refresh-icon",{spinning:k.value}])},"üîÑ",2),(0,l.Lk)("span",wa,(0,o.v_)(k.value?"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...":"–û–±–Ω–æ–≤–∏—Ç—å"),1)],10,La),(0,l.Lk)("div",ya,[(0,l.Lk)("button",{onClick:W,class:(0,o.C4)(["sync-toggle-button",{active:f.value}])},[(0,l.Lk)("span",Ca,(0,o.v_)(f.value?"üîí":"üîì"),1),(0,l.Lk)("span",Ea,(0,o.v_)(f.value?"–ê–≤—Ç–æ-—Å–∏–Ω—Ö –í–ö–õ":"–ê–≤—Ç–æ-—Å–∏–Ω—Ö –í–´–ö–õ"),1)],2),f.value?((0,l.uX)(),(0,l.CE)("div",_a,[(0,l.Lk)("span",{class:(0,o.C4)(["sync-indicator",{active:b.value}])},null,2),(0,l.Lk)("span",xa," –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+(0,o.v_)(w.value)+"—Å ",1)])):(0,l.Q3)("",!0)])]),L.value?((0,l.uX)(),(0,l.CE)("div",Ra,[(0,l.Lk)("span",Aa," –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+(0,o.v_)(z()),1)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ka,[(0,l.Lk)("div",Xa,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),placeholder:"–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞",class:(0,o.C4)(["task-input",{shake:v.value}]),onKeyup:(0,t.jR)(q,["enter"]),disabled:p.value},null,42,Ba),[[t.Jo,c.value]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),class:"difficulty-select",disabled:p.value},s[8]||(s[8]=[(0,l.Lk)("option",{value:"easy"},"–õ–µ–≥–∫–æ",-1),(0,l.Lk)("option",{value:"normal"},"–ù–æ—Ä–º–∞–ª—å–Ω–æ",-1),(0,l.Lk)("option",{value:"hard"},"–°–ª–æ–∂–Ω–æ",-1)]),8,Da),[[t.u1,u.value]]),(0,l.Lk)("button",{onClick:q,class:"add-button",disabled:!c.value.trim()||p.value},[p.value?((0,l.uX)(),(0,l.CE)("span",Ia,s[10]||(s[10]=[(0,l.Lk)("span",{class:"spinner"},null,-1),(0,l.Lk)("span",{class:"button-text"},"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...",-1)]))):((0,l.uX)(),(0,l.CE)("span",Pa,s[9]||(s[9]=[(0,l.Lk)("span",{class:"button-text"},"–î–æ–±–∞–≤–∏—Ç—å",-1),(0,l.Lk)("span",{class:"button-icon"},"+",-1)])))],8,Fa)])]),(0,l.Lk)("div",Ma,[(0,l.Lk)("div",Ta,[(0,l.Lk)("button",{onClick:s[2]||(s[2]=e=>m.value="all"),class:(0,o.C4)([{active:"all"===m.value},"filter-btn"])}," –í—Å–µ ("+(0,o.v_)(d.value.length)+") ",3),(0,l.Lk)("button",{onClick:s[3]||(s[3]=e=>m.value="pending"),class:(0,o.C4)([{active:"pending"===m.value},"filter-btn"])}," –ê–∫—Ç–∏–≤–Ω—ã–µ ("+(0,o.v_)(I.value.length)+") ",3),(0,l.Lk)("button",{onClick:s[4]||(s[4]=e=>m.value="completed"),class:(0,o.C4)([{active:"completed"===m.value},"filter-btn"])}," –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ ("+(0,o.v_)(P.value.length)+") ",3)])]),(0,l.Lk)("div",Sa,[(0,l.bF)(t.F,{name:"task-list",tag:"ul",class:"task-list"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(M.value,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:(0,o.C4)(["task-item",{deleting:e.deleting,completed:e.completed,updating:e.updating}])},[(0,l.Lk)("div",Va,[(0,l.Lk)("div",Ua,[(0,l.Lk)("button",{onClick:a=>J(e.id),class:"checkbox-button",disabled:e.updating},[(0,l.Lk)("span",{class:(0,o.C4)(["checkbox",{checked:e.completed}])},[e.completed?((0,l.uX)(),(0,l.CE)("span",$a,"‚úì")):(0,l.Q3)("",!0)],2)],8,Wa),(0,l.Lk)("div",Qa,[(0,l.Lk)("span",{class:(0,o.C4)(["task-text",{completed:e.completed}])},(0,o.v_)(e.text),3),(0,l.Lk)("div",qa,[(0,l.Lk)("span",{class:(0,o.C4)(["difficulty-badge",e.difficulty])},(0,o.v_)(H(e.difficulty)),3),(0,l.Lk)("span",Na,(0,o.v_)(Y(e.createdAt)),1)])])]),(0,l.Lk)("div",Oa,[e.updating?((0,l.uX)(),(0,l.CE)("span",ja)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:a=>G(e.id),class:"delete-button",disabled:e.deleting||e.updating},s[11]||(s[11]=[(0,l.Lk)("span",{class:"delete-icon"},"√ó",-1)]),8,Ja)])])],2)))),128))])),_:1}),0===M.value.length?((0,l.uX)(),(0,l.CE)("div",Ga,[(0,l.Lk)("div",Ha,(0,o.v_)("completed"===m.value?"üéâ":"pending"===m.value?"üìù":"üìã"),1),(0,l.Lk)("p",Ya,(0,o.v_)(Z()),1)])):(0,l.Q3)("",!0)]),(0,l.bF)(N,{isVisible:A.value,title:"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞",message:"–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ —É–¥–∞–ª–∏—Ç –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –∑–∞–¥–∞—á–∏. –í—ã —É–≤–µ—Ä–µ–Ω—ã?",confirmButtonText:"–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç",cancelButtonText:"–û—Ç–º–µ–Ω–∞",isLoading:X.value,inputErrorMessage:B.value,onConfirm:ae,onCancel:a.cancelDeleteAccount},(0,l.eX)({_:2},[X.value?void 0:{name:"content",fn:(0,l.k6)((()=>[(0,l.Lk)("div",za,[s[12]||(s[12]=(0,l.Lk)("label",{for:"currentLoginPassword"},"–í–∞—à —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"currentLoginPassword","onUpdate:modelValue":s[5]||(s[5]=e=>K.value=e),autocomplete:"current-password"},null,512),[[t.Jo,K.value]])])])),key:"0"}]),1032,["isVisible","isLoading","inputErrorMessage","onCancel"])]))}};const as=(0,X.A)(es,[["__scopeId","data-v-62718256"]]);var ss=as;const ts=[{path:"/",name:"root",redirect:{name:"tasks"},meta:{requiresAuth:!0}},{path:"/login",name:"login",component:ye,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:Je,meta:{requiresAuth:!1}},{path:"/reset-password",name:"reset-password",component:ca,meta:{requiresAuth:!1}},{path:"/tasks",name:"tasks",component:ss,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)",redirect:"/"}],ls=(0,j.aE)({history:(0,j.Bt)("/todo-focus/"),routes:ts}),os=()=>new Promise(((e,a)=>{const s=(0,h.hg)(C,(a=>{s(),e(a)}),a)}));ls.beforeEach((async(e,a,s)=>{const t=e.matched.some((e=>e.meta.requiresAuth)),l=await os();!t||l&&l.emailVerified?("/login"===e.path||"/register"===e.path||"/reset-password"===e.path||"/"===e.path)&&l&&l.emailVerified?(console.log(`Redirecting to /tasks from ${e.path} (user logged in and email verified, but on public auth page).`),s("/tasks")):(console.log(`Allowing navigation to ${e.path} (no special auth redirect needed).`),s()):"/login"!==e.path&&"/register"!==e.path&&"/reset-password"!==e.path?(console.log(`Redirecting to /login from ${e.path} (requires auth and/or email verification, but condition not met).`),s("/login")):(console.log(`Allowing navigation to ${e.path} (public auth page).`),s())}));var ns=ls;(0,t.Ef)(H).use(ns).mount("#app")}},a={};function s(t){var l=a[t];if(void 0!==l)return l.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(a,t,l,o){if(!t){var n=1/0;for(u=0;u<e.length;u++){t=e[u][0],l=e[u][1],o=e[u][2];for(var r=!0,i=0;i<t.length;i++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](t[i])}))?t.splice(i--,1):(r=!1,o<n&&(n=o));if(r){e.splice(u--,1);var c=l();void 0!==c&&(a=c)}}return a}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,l,o]}}(),function(){s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,{a:a}),a}}(),function(){s.d=function(e,a){for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};s.O.j=function(a){return 0===e[a]};var a=function(a,t){var l,o,n=t[0],r=t[1],i=t[2],c=0;if(n.some((function(a){return 0!==e[a]}))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(i)var u=i(s)}for(a&&a(t);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},t=self["webpackChunktodo_focus"]=self["webpackChunktodo_focus"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=s.O(void 0,[504],(function(){return s(7787)}));t=s.O(t)})();
//# sourceMappingURL=app.0469107c.js.map