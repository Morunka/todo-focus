(function(){"use strict";var e={7190:function(e,a,s){var t=s(5130),l=s(6768),o=s(4232);const n={id:"app"},r={class:"navbar"},i={class:"nav-container"},c={class:"nav-links"},u={key:2,class:"user-info-dropdown"},d={class:"user-name"},v={key:0,class:"dropdown-menu"},p={class:"main-content"};function m(e,a,s,m,k,g){const f=(0,l.g2)("router-link"),h=(0,l.g2)("router-view"),b=(0,l.g2)("FooterElement"),L=(0,l.g2)("ConfirmationModal");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("nav",r,[(0,l.Lk)("div",i,[a[8]||(a[8]=(0,l.Lk)("div",{class:"nav-brand"},[(0,l.Lk)("h2",{class:"brand-title"},"ToDo —Å–ø–∏—Å–æ–∫ ¬´–§–æ–∫—É—Å¬ª")],-1)),(0,l.Lk)("div",c,[k.user?((0,l.uX)(),(0,l.Wv)(f,{key:0,to:"/tasks",class:"nav-link"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.Lk)("span",{class:"nav-icon"},"üìã",-1),(0,l.Lk)("span",{class:"nav-text"},"–ó–∞–¥–∞—á–∏",-1)]))),_:1,__:[3]})):(0,l.Q3)("",!0),k.user?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("button",{class:"user-info-button",onClick:a[0]||(a[0]=(...e)=>g.toggleDropdown&&g.toggleDropdown(...e))},[a[5]||(a[5]=(0,l.Lk)("span",{class:"user-icon"},"üë§",-1)),(0,l.Lk)("span",d,(0,o.v_)(k.user?.displayName||k.user?.email||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"),1),(0,l.Lk)("span",{class:(0,o.C4)(["dropdown-arrow",{rotated:k.dropdownOpen}])},"‚ñº",2)]),k.dropdownOpen?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>g.handleLogout&&g.handleLogout(...e)),class:"dropdown-item"},a[6]||(a[6]=[(0,l.Lk)("span",{class:"dropdown-icon"},"‚û°Ô∏è",-1),(0,l.eW)(" –í—ã–π—Ç–∏ ")])),(0,l.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>g.openDeleteConfirmation&&g.openDeleteConfirmation(...e)),class:"dropdown-item delete-account-item"},a[7]||(a[7]=[(0,l.Lk)("span",{class:"dropdown-icon"},"üóëÔ∏è",-1),(0,l.eW)(" –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç ")]))])):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.Wv)(f,{key:1,to:"/login",class:"nav-link"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.Lk)("span",{class:"nav-icon"},"üîê",-1),(0,l.Lk)("span",{class:"nav-text"},"–í–æ–π—Ç–∏",-1)]))),_:1,__:[4]}))])])]),(0,l.Lk)("main",p,[(0,l.bF)(h,null,{default:(0,l.k6)((({Component:e})=>[(0,l.bF)(t.eB,{name:"page",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e)))])),_:2},1024)])),_:1})]),(0,l.bF)(b),(0,l.bF)(L,{isVisible:k.showDeleteConfirmationModal,title:"–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞",message:"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –∑–∞–¥–∞—á–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.",confirmButtonText:"–£–¥–∞–ª–∏—Ç—å",cancelButtonText:"–û—Ç–º–µ–Ω–∞",onConfirm:g.handleDeleteAccount,onCancel:g.closeDeleteConfirmation},null,8,["isVisible","onConfirm","onCancel"]),(0,l.bF)(L,{isVisible:k.showReauthModal,title:"–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",message:"–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–µ–¥–∞–≤–Ω–µ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–π–¥–∏—Ç–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞, –∑–∞—Ç–µ–º –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç.",confirmButtonText:"–ü–æ–Ω—è—Ç–Ω–æ",cancelButtonText:e.–û—Ç–º–µ–Ω–∞,onConfirm:g.closeReauthModalAndLogout,onCancel:g.closeReauthModal},null,8,["isVisible","cancelButtonText","onConfirm","onCancel"])])}s(4114),s(8111),s(7588);var k=s(6400),g=s(5942),f=s(7617),h=s(7236),b=s(970);const L={apiKey:"AIzaSyAVcs56OYlFDq0jb13MgJr7gcM1TR9lJiE",authDomain:"todo-focus-d59b1.firebaseapp.com",projectId:"todo-focus-d59b1",storageBucket:"todo-focus-d59b1.firebasestorage.app",messagingSenderId:"520960174304",appId:"1:520960174304:web:047d83bbc1ba1d917f8885",measurementId:"G-9T29LYWMG5"},w=(0,k.Wp)(L),y=((0,g.P5)(w),(0,f.aU)(w)),C=(0,h.xI)(w);(0,b.Ay)(w,{provider:new b._u("6LeG6E4rAAAAAAeHxKj7NuSv8QkglW1IoybdYyZY"),isTokenAutoRefreshEnabled:!0}),(0,h.oM)(C,h.F0).then((()=>{console.log("Firebase Auth persistence set to 'local'.")})).catch((e=>{const a=e.code,s=e.message;console.error("Error setting Firebase Auth persistence:",a,s)}));const E={class:"app-footer"},_={class:"footer-container"},x={class:"footer-bottom"},R={class:"copyright"};function A(e,a,s,t,n,r){return(0,l.uX)(),(0,l.CE)("footer",E,[(0,l.Lk)("div",_,[a[0]||(a[0]=(0,l.Fv)('<div class="footer-content" data-v-c3e4910c><div class="footer-section" data-v-c3e4910c><p class="footer-text primary" data-v-c3e4910c> –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ <a href="https://firebase.google.com/" target="_blank" rel="noopener noreferrer" class="footer-link firebase" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üî•</span> Firebase </a>, —Ä–∞–∑–º–µ—â–µ–Ω–æ –Ω–∞ <a href="https://github.com/Morunka/todo-focus" target="_blank" rel="noopener noreferrer" class="footer-link github" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üìÇ</span> Github pages </a></p><p class="footer-text secondary" data-v-c3e4910c> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é <a href="https://vuejs.org" target="_blank" rel="noopener noreferrer" class="footer-link vue" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>‚ö°</span> Vue.js </a> –æ—Ç <a href="https://t.me/MEOW_MUR920" target="_blank" rel="noopener noreferrer" class="footer-link author" data-v-c3e4910c><span class="link-icon" data-v-c3e4910c>üë®‚Äçüíª</span> Morunka </a></p></div><div class="footer-stats" data-v-c3e4910c><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>üì±</span><span class="stat-text" data-v-c3e4910c>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π</span></div><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>‚ö°</span><span class="stat-text" data-v-c3e4910c>–ë—ã—Å—Ç—Ä—ã–π</span></div><div class="stat-badge" data-v-c3e4910c><span class="stat-icon" data-v-c3e4910c>üîí</span><span class="stat-text" data-v-c3e4910c>–ó–∞—â–∏—â–µ–Ω–Ω—ã–π</span></div></div></div><div class="footer-divider" data-v-c3e4910c></div>',2)),(0,l.Lk)("div",x,[(0,l.Lk)("p",R," ¬© "+(0,o.v_)(r.currentYear)+" ToDo —Å–ø–∏—Å–æ–∫ ¬´–§–æ–∫—É—Å¬ª. ",1)])])])}var D={name:"FooterElement",computed:{currentYear(){return(new Date).getFullYear()}}},B=s(1241);const X=(0,B.A)(D,[["render",A],["__scopeId","data-v-c3e4910c"]]);var I=X;const K={class:"modal-dialog"},F={class:"modal-header"},T={class:"modal-title"},M={class:"modal-body"},P={class:"modal-message"};function V(e,a,s,n,r,i){return(0,l.uX)(),(0,l.Wv)(t.eB,{name:"modal-fade"},{default:(0,l.k6)((()=>[s.isVisible?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[3]||(a[3]=(0,t.D$)(((...e)=>i.cancel&&i.cancel(...e)),["self"]))},[(0,l.Lk)("div",K,[(0,l.Lk)("div",F,[(0,l.Lk)("h3",T,(0,o.v_)(s.title),1),s.showCloseButton||null!==s.cancelButtonText?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"close-button",onClick:a[0]||(a[0]=(...e)=>i.cancel&&i.cancel(...e))},a[4]||(a[4]=[(0,l.Lk)("span",{class:"material-icons"},"‚ùå",-1)]))):(0,l.Q3)("",!0)]),(0,l.Lk)("div",M,[(0,l.Lk)("p",P,(0,o.v_)(s.message),1)]),(0,l.Lk)("div",{class:(0,o.C4)(["modal-footer",{"single-button-footer":s.confirmButtonText&&null===s.cancelButtonText}])},[null!==s.cancelButtonText?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"cancel-button",onClick:a[1]||(a[1]=(...e)=>i.cancel&&i.cancel(...e))},(0,o.v_)(s.cancelButtonText),1)):(0,l.Q3)("",!0),null!==s.confirmButtonText?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"confirm-button",onClick:a[2]||(a[2]=(...e)=>i.confirm&&i.confirm(...e))},(0,o.v_)(s.confirmButtonText),1)):(0,l.Q3)("",!0)],2)])])):(0,l.Q3)("",!0)])),_:1})}var S={props:{isVisible:{type:Boolean,default:!1},title:{type:String,default:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"},message:{type:String,default:"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ?"},confirmButtonText:{type:String,default:"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"},cancelButtonText:{type:String,default:"–û—Ç–º–µ–Ω–∞"},showCloseButton:{type:Boolean,default:!0}},methods:{confirm(){this.$emit("confirm")},cancel(){(null!==this.cancelButtonText||this.showCloseButton)&&this.$emit("cancel")}}};const U=(0,B.A)(S,[["render",V],["__scopeId","data-v-313e6638"]]);var $=U,W={components:{FooterElement:I,ConfirmationModal:$},data(){return{user:null,dropdownOpen:!1,showDeleteConfirmationModal:!1,showReauthModal:!1}},created(){(0,h.hg)(C,(e=>{this.user=e}))},methods:{async handleLogout(){try{await(0,h.CI)(C),this.dropdownOpen=!1,console.log("User successfully logged out. Redirecting to /login."),"/login"!==this.$route.path&&this.$router.replace("/login")}catch(e){console.error("Error logging out:",e),alert(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ: ${e.message}`)}},toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},handleClickOutside(e){const a=this.$el.querySelector(".user-info-dropdown");this.dropdownOpen&&a&&!a.contains(e.target)&&(this.dropdownOpen=!1)},openDeleteConfirmation(){this.dropdownOpen=!1,this.showDeleteConfirmationModal=!0},closeDeleteConfirmation(){this.showDeleteConfirmationModal=!1},openReauthModal(){this.showReauthModal=!0},closeReauthModal(){this.showReauthModal=!1},closeReauthModalAndLogout(){this.closeReauthModal(),this.handleLogout()},async handleDeleteAccount(){this.closeDeleteConfirmation();const e=C.currentUser;if(!e)return console.error("No user is logged in to delete account."),void this.$router.replace("/login");try{console.log(`Attempting to delete tasks for user: ${e.uid}`);const a=(0,f.rJ)(y,"tasks"),s=(0,f.P)(a,(0,f._M)("userId","==",e.uid)),t=await(0,f.GG)(s),l=[];t.forEach((e=>{l.push((0,f.kd)(e.ref))})),await Promise.all(l),console.log(`Successfully deleted ${t.size} tasks for user.`),await(0,h.hG)(e),console.log("User account successfully deleted. Redirecting to /register."),this.$router.replace("/register")}catch(a){console.error("Error deleting account:",a),"auth/requires-recent-login"===a.code?this.openReauthModal():"auth/user-not-found"===a.code?(alert("–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω —É–∂–µ –±—ã–ª —É–¥–∞–ª–µ–Ω."),this.$router.replace("/login")):alert(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞: ${a.message}`)}}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}};const O=(0,B.A)(W,[["render",m]]);var q=O,Q=(s(3579),s(1387)),j=s(144);const J={class:"login-container"},G={class:"login-card"},N={class:"form-group"},H={class:"input-wrapper"},Y={key:0,class:"error-message"},z={class:"form-group"},Z={class:"input-wrapper"},ee=["type"],ae={key:0,class:"error-message"},se={class:"form-options"},te={class:"checkbox-wrapper"},le=["disabled"],oe={key:0,class:"button-content"},ne={key:1,class:"loading-spinner"},re={class:"login-footer"},ie={class:"footer-text"},ce={key:0,class:"error-message text-center"},ue={key:1,class:"info-message text-center"},de=["disabled"],ve={key:0,class:"small-loading-spinner"},pe={key:1},me={key:2},ke={key:2,class:"success-message text-center"};var ge={__name:"LoginView",setup(e){const a=(0,Q.rd)(),s=(0,j.KR)(""),n=(0,j.KR)(""),r=(0,j.KR)(!1),i=(0,j.KR)(!0),c=(0,j.KR)(!1),u=(0,j.KR)(!1),d=(0,j.KR)({}),v=(0,j.KR)(""),p=(0,j.KR)(!1),m=(0,j.KR)(0);let k=null;const g=(0,j.KR)(""),f=(0,j.KR)(null),b=(0,l.EW)((()=>""!==s.value.trim()&&""!==n.value.trim()&&!d.value.email&&!d.value.password)),L=()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;s.value?e.test(s.value)?delete d.value.email:d.value.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email":d.value.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},w=()=>{n.value?n.value.length<6?d.value.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤":delete d.value.password:d.value.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},y=e=>{delete d.value[e],v.value="",p.value=!1,g.value="",f.value=null},E=e=>{m.value=e,k&&clearInterval(k),k=setInterval((()=>{m.value>0?m.value--:(clearInterval(k),k=null)}),1e3)},_=async()=>{if(L(),w(),v.value="",p.value=!1,g.value="",f.value=null,b.value){c.value=!0;try{await(0,h.oM)(C,i.value?h.F0:h.iM);const e=await(0,h.x9)(C,s.value,n.value),t=e.user;t.emailVerified?a.push("/tasks"):(f.value=t,await(0,h.CI)(C),v.value='–í–∞—à Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—é –ø–æ—á—Ç—É (–∏ –ø–∞–ø–∫—É "–°–ø–∞–º"!) –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤–æ–π—Ç–∏.',p.value=!0,E(60))}catch(e){switch(console.error("Login error:",e.code,e.message),e.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":v.value="–ù–µ–≤–µ—Ä–Ω—ã–π Email –∏–ª–∏ –ø–∞—Ä–æ–ª—å.";break;case"auth/invalid-email":v.value="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞.";break;case"auth/too-many-requests":v.value="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",p.value=!0,E(60);break;case"auth/network-request-failed":v.value="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;default:v.value="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. "+e.message;break}}finally{c.value=!1}}},x=async()=>{const e=f.value||C.currentUser;if(e){u.value=!0,g.value="",v.value="";try{await(0,h.gA)(e),g.value="–ü–∏—Å—å–º–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π Email.",E(60)}catch(a){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞:",a),"auth/too-many-requests"===a.code?(v.value="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∏—Å—å–º–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ.",E(60)):v.value="–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."}finally{u.value=!1}}};return(0,l.xo)((()=>{k&&(clearInterval(k),k=null)})),(e,a)=>{const k=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",J,[(0,l.Lk)("div",G,[a[16]||(a[16]=(0,l.Lk)("div",{class:"login-header"},[(0,l.Lk)("div",{class:"login-icon"},"üîë"),(0,l.Lk)("h1",{class:"login-title"},"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"),(0,l.Lk)("p",{class:"login-subtitle"},"–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å")],-1)),(0,l.Lk)("form",{onSubmit:(0,t.D$)(_,["prevent"]),class:"login-form"},[(0,l.Lk)("div",N,[a[7]||(a[7]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",H,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),type:"email",class:(0,o.C4)(["form-input",{error:d.value.email}]),placeholder:"example@email.com",onBlur:L,onInput:a[1]||(a[1]=e=>y("email")),required:""},null,34),[[t.Jo,s.value]]),a[6]||(a[6]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[d.value.email?((0,l.uX)(),(0,l.CE)("p",Y,(0,o.v_)(d.value.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",z,[a[8]||(a[8]=(0,l.Lk)("label",{class:"form-label"},"–ü–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",Z,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:r.value?"text":"password",class:(0,o.C4)(["form-input",{error:d.value.password}]),placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:w,onInput:a[3]||(a[3]=e=>y("password")),required:""},null,42,ee),[[t.hp,n.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[4]||(a[4]=e=>r.value=!r.value)},(0,o.v_)(r.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[d.value.password?((0,l.uX)(),(0,l.CE)("p",ae,(0,o.v_)(d.value.password),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",se,[(0,l.Lk)("label",te,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=e=>i.value=e),class:"checkbox"},null,512),[[t.lH,i.value]]),a[9]||(a[9]=(0,l.Lk)("span",{class:"checkmark"},null,-1)),a[10]||(a[10]=(0,l.Lk)("span",{class:"checkbox-text"},"–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è",-1))]),(0,l.bF)(k,{to:"/reset-password",class:"forgot-password-link"},{default:(0,l.k6)((()=>a[11]||(a[11]=[(0,l.eW)("–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?")]))),_:1,__:[11]})]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["login-button",{loading:c.value}]),disabled:c.value||!b.value},[c.value?((0,l.uX)(),(0,l.CE)("span",ne)):((0,l.uX)(),(0,l.CE)("span",oe,a[12]||(a[12]=[(0,l.Lk)("span",{class:"button-text"},"–í–æ–π—Ç–∏",-1),(0,l.Lk)("span",{class:"button-icon"},"‚Üí",-1)])))],10,le)],32),(0,l.Lk)("div",re,[(0,l.Lk)("p",ie,[a[14]||(a[14]=(0,l.eW)(" –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? ")),(0,l.bF)(k,{to:"/register",class:"register-link"},{default:(0,l.k6)((()=>a[13]||(a[13]=[(0,l.eW)("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")]))),_:1,__:[13]})]),v.value?((0,l.uX)(),(0,l.CE)("p",ce,(0,o.v_)(v.value),1)):(0,l.Q3)("",!0),p.value?((0,l.uX)(),(0,l.CE)("p",ue,[a[15]||(a[15]=(0,l.eW)(" –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–π Email. ")),(0,l.Lk)("button",{onClick:x,disabled:u.value||m.value>0,class:"resend-email-button"},[u.value?((0,l.uX)(),(0,l.CE)("span",ve)):m.value>0?((0,l.uX)(),(0,l.CE)("span",pe,"–ü–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑ "+(0,o.v_)(m.value)+"—Å",1)):((0,l.uX)(),(0,l.CE)("span",me,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ"))],8,de)])):(0,l.Q3)("",!0),g.value?((0,l.uX)(),(0,l.CE)("p",ke,(0,o.v_)(g.value),1)):(0,l.Q3)("",!0)])]),a[17]||(a[17]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1))])}}};const fe=(0,B.A)(ge,[["__scopeId","data-v-0b3c1bdc"]]);var he=fe;const be={class:"register-container"},Le={class:"register-card"},we={class:"form-group"},ye={class:"input-wrapper"},Ce={key:0,class:"error-message"},Ee={class:"form-group"},_e={class:"input-wrapper"},xe=["type"],Re={class:"password-strength"},Ae={class:"strength-bar"},De={class:"strength-text"},Be={key:0,class:"error-message"},Xe={class:"form-group"},Ie={class:"input-wrapper"},Ke=["type"],Fe={key:0,class:"error-message"},Te={class:"form-options"},Me={class:"checkbox-wrapper"},Pe=["disabled"],Ve={key:0,class:"button-content"},Se={key:1,class:"loading-spinner"},Ue={class:"register-footer"},$e={class:"footer-text"};var We={__name:"RegisterView",setup(e){const a=(0,Q.rd)(),s=(0,j.KR)(""),n=(0,j.KR)(""),r=(0,j.KR)(""),i=(0,j.KR)(!1),c=(0,j.KR)(!1),u=(0,j.KR)(!1),d=(0,j.KR)(!1),v=(0,j.KR)({}),p=(0,j.KR)({}),m=(0,j.KR)(!1),k=(0,j.KR)(!1),g=(0,j.KR)(""),f=(0,l.EW)((()=>""!==s.value.trim()&&""!==n.value.trim()&&""!==r.value.trim()&&u.value&&!v.value.email&&!v.value.password&&!v.value.confirmPassword)),b=(0,l.EW)((()=>{const e=n.value;let a=0;return e.length>=8&&a++,/[a-z]/.test(e)&&a++,/[A-Z]/.test(e)&&a++,/[0-9]/.test(e)&&a++,/[^A-Za-z0-9]/.test(e)&&a++,a})),L=(0,l.EW)((()=>b.value<=2?"weak":b.value<=3?"medium":"strong")),w=(0,l.EW)((()=>""===n.value?"":b.value<=2?"–°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å":b.value<=3?"–°—Ä–µ–¥–Ω–∏–π –ø–∞—Ä–æ–ª—å":"–°–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å")),y=()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;s.value?e.test(s.value)?(delete v.value.email,p.value.email=!0):(v.value.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email",p.value.email=!1):(v.value.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",p.value.email=!1)},E=()=>{n.value?n.value.length<6?(v.value.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤",p.value.password=!1):(delete v.value.password,p.value.password=!0):(v.value.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",p.value.password=!1),r.value&&_()},_=()=>{r.value?n.value!==r.value?(v.value.confirmPassword="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç",p.value.confirmPassword=!1):(delete v.value.confirmPassword,p.value.confirmPassword=!0):(v.value.confirmPassword="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",p.value.confirmPassword=!1)},x=e=>{delete v.value[e]},R=()=>{m.value=!0},A=()=>{m.value=!1,a.push("/login")},D=()=>{m.value=!1},B=e=>{g.value=e,k.value=!0},X=()=>{k.value=!1,g.value=""},I=async()=>{if(g.value="",y(),E(),_(),u.value){if(!(Object.keys(v.value).length>0)){d.value=!0;try{const e=await(0,h.eJ)(C,s.value,n.value),a=e.user;await(0,h.gA)(a),await(0,h.CI)(C),s.value="",n.value="",r.value="",u.value=!1,v.value={},p.value={},R()}catch(e){console.error("Registration error:",e.code,e.message);let a="";switch(e.code){case"auth/email-already-in-use":a="–≠—Ç–æ—Ç Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å.";break;case"auth/invalid-email":a="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞.";break;case"auth/weak-password":a="–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤.";break;case"auth/network-request-failed":a="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;default:a="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. "+e.message;break}B(a)}finally{d.value=!1}}}else B("–í—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.")};return(e,a)=>{const h=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",be,[(0,l.Lk)("div",Le,[a[18]||(a[18]=(0,l.Lk)("div",{class:"register-header"},[(0,l.Lk)("div",{class:"register-icon"},"üìù"),(0,l.Lk)("h1",{class:"register-title"},"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"),(0,l.Lk)("p",{class:"register-subtitle"},"–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å")],-1)),(0,l.Lk)("form",{onSubmit:(0,t.D$)(I,["prevent"]),class:"register-form"},[(0,l.Lk)("div",we,[a[10]||(a[10]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",ye,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),type:"email",class:(0,o.C4)(["form-input",{error:v.value.email,success:p.value.email}]),placeholder:"example@email.com",onBlur:y,onInput:a[1]||(a[1]=e=>x("email")),required:""},null,34),[[t.Jo,s.value]]),a[9]||(a[9]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[v.value.email?((0,l.uX)(),(0,l.CE)("p",Ce,(0,o.v_)(v.value.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Ee,[a[11]||(a[11]=(0,l.Lk)("label",{class:"form-label"},"–ü–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",_e,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:i.value?"text":"password",class:(0,o.C4)(["form-input",{error:v.value.password,success:p.value.password}]),placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:E,onInput:a[3]||(a[3]=e=>x("password")),required:""},null,42,xe),[[t.hp,n.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[4]||(a[4]=e=>i.value=!i.value)},(0,o.v_)(i.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.Lk)("div",Re,[(0,l.Lk)("div",Ae,[(0,l.Lk)("div",{class:(0,o.C4)(["strength-fill",L.value])},null,2)]),(0,l.Lk)("span",De,(0,o.v_)(w.value),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[v.value.password?((0,l.uX)(),(0,l.CE)("p",Be,(0,o.v_)(v.value.password),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Xe,[a[12]||(a[12]=(0,l.Lk)("label",{class:"form-label"},"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",Ie,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>r.value=e),type:c.value?"text":"password",class:(0,o.C4)(["form-input",{error:v.value.confirmPassword,success:p.value.confirmPassword}]),placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",onBlur:_,onInput:a[6]||(a[6]=e=>x("confirmPassword")),required:""},null,42,Ke),[[t.hp,r.value]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:a[7]||(a[7]=e=>c.value=!c.value)},(0,o.v_)(c.value?"üôà":"üëÅÔ∏è"),1)]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[v.value.confirmPassword?((0,l.uX)(),(0,l.CE)("p",Fe,(0,o.v_)(v.value.confirmPassword),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("div",Te,[(0,l.Lk)("label",Me,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>u.value=e),class:"checkbox"},null,512),[[t.lH,u.value]]),a[13]||(a[13]=(0,l.Lk)("span",{class:"checkmark"},null,-1)),a[14]||(a[14]=(0,l.Lk)("span",{class:"checkbox-text"},[(0,l.eW)(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å "),(0,l.Lk)("a",{href:"#",class:"terms-link"},"—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"),(0,l.eW)(" –∏ "),(0,l.Lk)("a",{href:"#",class:"terms-link"},"–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏")],-1))])]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["register-button",{loading:d.value}]),disabled:d.value||!f.value},[d.value?((0,l.uX)(),(0,l.CE)("span",Se)):((0,l.uX)(),(0,l.CE)("span",Ve,a[15]||(a[15]=[(0,l.Lk)("span",{class:"button-text"},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",-1),(0,l.Lk)("span",{class:"button-icon"},"‚ú®",-1)])))],10,Pe)],32),(0,l.Lk)("div",Ue,[(0,l.Lk)("p",$e,[a[17]||(a[17]=(0,l.eW)(" –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ")),(0,l.bF)(h,{to:"/login",class:"login-link"},{default:(0,l.k6)((()=>a[16]||(a[16]=[(0,l.eW)("–í–æ–π—Ç–∏")]))),_:1,__:[16]})])])]),a[19]||(a[19]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1)),(0,l.bF)($,{isVisible:m.value,title:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!",message:"–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π Email (–∏ –ø–∞–ø–∫—É '–°–ø–∞–º'!) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ù–∞–∂–º–∏—Ç–µ '–î–∞–ª–µ–µ', —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –≤—Ö–æ–¥—É.",confirmButtonText:"–î–∞–ª–µ–µ",cancelButtonText:null,showCloseButton:!1,onConfirm:A,onCancel:D},null,8,["isVisible"]),(0,l.bF)($,{isVisible:k.value,title:"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",message:g.value,confirmButtonText:"–û–ö",cancelButtonText:null,showCloseButton:!0,onConfirm:X,onCancel:X},null,8,["isVisible","message"])])}}};const Oe=(0,B.A)(We,[["__scopeId","data-v-98bc6f6e"]]);var qe=Oe;const Qe={class:"reset-password-container"},je={class:"reset-password-card"},Je={class:"form-group"},Ge={class:"input-wrapper"},Ne=["disabled"],He={key:0,class:"error-message"},Ye=["disabled"],ze={key:0,class:"button-content"},Ze={key:1,class:"loading-spinner"},ea={class:"reset-password-footer"},aa={class:"back-to-login"};function sa(e,a,s,n,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Qe,[(0,l.Lk)("div",je,[a[8]||(a[8]=(0,l.Lk)("div",{class:"reset-password-header"},[(0,l.Lk)("div",{class:"reset-password-icon"},"üîê"),(0,l.Lk)("h1",{class:"reset-password-title"},"–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è"),(0,l.Lk)("p",{class:"reset-password-subtitle"},"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email, –∏ –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –≤–∞–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è.")],-1)),(0,l.Lk)("form",{onSubmit:a[3]||(a[3]=(0,t.D$)(((...e)=>i.handleResetPassword&&i.handleResetPassword(...e)),["prevent"])),class:"reset-password-form"},[(0,l.Lk)("div",Je,[a[5]||(a[5]=(0,l.Lk)("label",{class:"form-label"},"Email",-1)),(0,l.Lk)("div",Ge,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.email=e),type:"email",class:(0,o.C4)(["form-input",{error:r.errors.email}]),placeholder:"example@email.com",onBlur:a[1]||(a[1]=(...e)=>i.validateEmail&&i.validateEmail(...e)),onInput:a[2]||(a[2]=e=>i.clearError("email")),disabled:r.isLoading,required:""},null,42,Ne),[[t.Jo,r.email]]),a[4]||(a[4]=(0,l.Lk)("span",{class:"input-icon"},"üìß",-1))]),(0,l.bF)(t.eB,{name:"error"},{default:(0,l.k6)((()=>[r.errors.email?((0,l.uX)(),(0,l.CE)("p",He,(0,o.v_)(r.errors.email),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("button",{type:"submit",class:(0,o.C4)(["reset-button",{loading:r.isLoading}]),disabled:r.isLoading||!i.isFormValid},[r.isLoading?((0,l.uX)(),(0,l.CE)("span",Ze)):((0,l.uX)(),(0,l.CE)("span",ze,a[6]||(a[6]=[(0,l.Lk)("span",{class:"button-text"},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1),(0,l.Lk)("span",{class:"button-icon"},"üì§",-1)])))],10,Ye)],32),(0,l.Lk)("div",ea,[(0,l.bF)(t.eB,{name:"message"},{default:(0,l.k6)((()=>[r.message?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,o.C4)({"success-message":r.isSuccess,"error-message":!r.isSuccess})},(0,o.v_)(r.message),3)):(0,l.Q3)("",!0)])),_:1}),(0,l.Lk)("div",aa,[(0,l.bF)(c,{to:"/login",class:"back-link"},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.Lk)("span",{class:"back-icon"},"‚Üê",-1),(0,l.eW)(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫–æ –≤—Ö–æ–¥—É ")]))),_:1,__:[7]})])])]),a[9]||(a[9]=(0,l.Lk)("div",{class:"bg-decoration"},[(0,l.Lk)("div",{class:"floating-shape shape-1"}),(0,l.Lk)("div",{class:"floating-shape shape-2"}),(0,l.Lk)("div",{class:"floating-shape shape-3"})],-1))])}var ta={name:"ResetPasswordView",data(){return{email:"",isLoading:!1,message:"",isSuccess:!1,errors:{}}},computed:{isFormValid(){return""!==this.email.trim()&&!this.errors.email}},methods:{validateEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.email?e.test(this.email)?delete this.errors.email:this.errors.email="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email":this.errors.email="Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"},clearError(e){delete this.errors[e],this.message="",this.isSuccess=!1},async handleResetPassword(){if(this.validateEmail(),this.isFormValid){this.isLoading=!0,this.message="",this.isSuccess=!1;try{await(0,h.J1)(C,this.email),this.message='–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–°–ø–∞–º", –µ—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –ø–∏—Å—å–º–∞. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.',this.isSuccess=!0,this.email=""}catch(e){switch(console.error("–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è:",e.code,e.message),this.isSuccess=!1,e.code){case"auth/invalid-email":this.message="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email.";break;case"auth/user-not-found":this.message="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω.";break;case"auth/too-many-requests":this.message="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";break;case"auth/network-request-failed":this.message="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.";break;default:this.message="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Å—ã–ª–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";break}}finally{this.isLoading=!1}}}}};const la=(0,B.A)(ta,[["render",sa],["__scopeId","data-v-aaeea976"]]);var oa=la;s(2489),s(116),s(1701);const na={class:"task-container"},ra={class:"header"},ia={class:"title"},ca={class:"stats"},ua={class:"stat-item"},da={class:"stat-number"},va={class:"stat-item"},pa={class:"stat-number"},ma={class:"sync-section"},ka={class:"sync-controls"},ga=["disabled"],fa={class:"button-text"},ha={class:"auto-sync-toggle"},ba={class:"sync-icon"},La={class:"button-text"},wa={key:0,class:"sync-status"},ya={class:"next-sync-text"},Ca={key:0,class:"last-updated"},Ea={class:"update-text"},_a={class:"input-section"},xa={class:"input-group"},Ra=["disabled"],Aa=["disabled"],Da=["disabled"],Ba={key:0,class:"button-content"},Xa={key:1,class:"loading-content"},Ia={class:"filter-section"},Ka={class:"filter-buttons"},Fa={class:"tasks-section"},Ta={class:"task-content"},Ma={class:"task-left"},Pa=["onClick","disabled"],Va={key:0,class:"checkmark"},Sa={class:"task-info"},Ua={class:"task-meta"},$a={class:"task-date"},Wa={class:"task-actions"},Oa={key:0,class:"updating-spinner"},qa=["onClick","disabled"],Qa={key:0,class:"empty-state"},ja={class:"empty-icon"},Ja={class:"empty-text"},Ga=1e4;var Na={__name:"MainPage",props:{msg:{type:String,default:"–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á"}},setup(e){const a=(0,j.KR)(""),s=(0,j.KR)("normal"),n=(0,j.KR)([]),r=(0,j.KR)(!1),i=(0,j.KR)(!1),c=(0,j.KR)("all"),u=(0,j.KR)(null),d=(0,j.KR)(!1),v=(0,j.KR)(!0),p=(0,j.KR)(!1),m=(0,j.KR)(null),k=(0,j.KR)(0),g=(0,j.KR)(Date.now());let b=null,L=null,w=null;const E=(0,l.EW)((()=>n.value.filter((e=>e.completed)))),_=(0,l.EW)((()=>n.value.filter((e=>!e.completed)))),x=(0,l.EW)((()=>{switch(c.value){case"completed":return E.value;case"pending":return _.value;default:return[...n.value].sort(((e,a)=>{const s=e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt),t=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return t.getTime()-s.getTime()}))}})),R=async e=>{if(e)try{const a=(0,f.H9)(y,"userPreferences",e),s=await(0,f.x7)(a);if(s.exists()){const e=s.data();"boolean"===typeof e.autoSyncEnabled&&(v.value=e.autoSyncEnabled,console.log("Loaded autoSyncEnabled from Firestore:",e.autoSyncEnabled))}else console.log("No user preferences found for this user. Will use default autoSyncEnabled: true.")}catch(a){console.error("Error loading user preferences:",a)}else console.log("No userId provided to loadUserPreferences. Skipping preference load.")},A=async(e,a)=>{if(u.value&&u.value.uid)try{const s=(0,f.H9)(y,"userPreferences",u.value.uid);await(0,f.BN)(s,{[e]:a},{merge:!0}),console.log(`User preference '${e}' saved as '${a}' to Firestore.`)}catch(s){console.error(`Error saving user preference '${e}':`,s)}else console.error("Cannot save user preference: User not authenticated or UID unavailable.")},D=async e=>{if(!e)return n.value=[],void console.log("Cannot load tasks: No user ID provided (user logged out or not initialized).");d.value=!0,p.value=!0;try{const a=(0,f.P)((0,f.rJ)(y,"tasks"),(0,f._M)("userId","==",e),(0,f.My)("createdAt","desc")),s=await(0,f.GG)(a);n.value=s.docs.map((e=>({id:e.id,deleting:!1,updating:!1,completed:e.data().completed??!1,difficulty:e.data().difficulty??"normal",createdAt:e.data().createdAt,text:e.data().text}))),m.value=new Date}catch(a){console.error("Error loading tasks:",a)}finally{setTimeout((()=>{p.value=!1,d.value=!1}),500)}},B=async()=>{u.value&&u.value.uid&&!d.value?v.value?(K(),await D(u.value.uid),I()):await D(u.value.uid):console.log("Refresh aborted: User not authenticated or already refreshing.")},X=()=>{v.value=!v.value,A("autoSyncEnabled",v.value),v.value?I():K()},I=()=>{u.value&&u.value.uid?(K(),D(u.value.uid),b=setInterval((async()=>{console.log("Auto-sync: Refreshing tasks..."),u.value&&u.value.uid?(await D(u.value.uid),k.value=Ga/1e3):(console.log("Auto-sync interval detected user logged out. Stopping auto-sync."),K())}),Ga),k.value=Ga/1e3,L=setInterval((()=>{k.value>0&&k.value--}),1e3),console.log("Auto-sync enabled (polling every 10 seconds).")):console.log("Cannot start auto-sync: User not authenticated or UID unavailable.")},K=()=>{b&&(clearInterval(b),b=null),L&&(clearInterval(L),L=null),k.value=0,console.log("Auto-sync disabled.")},F=async()=>{if(!a.value.trim())return r.value=!0,void setTimeout((()=>{r.value=!1}),500);if(u.value&&u.value.uid){i.value=!0;try{await new Promise((e=>setTimeout(e,500)));const e={text:a.value.trim(),completed:!1,difficulty:s.value,createdAt:new Date,userId:u.value.uid},t=await(0,f.gS)((0,f.rJ)(y,"tasks"),e);n.value.unshift({id:t.id,deleting:!1,updating:!1,...e}),a.value="",s.value="normal"}catch(e){console.error("Error adding task:",e)}finally{i.value=!1}}else console.error("User not authenticated to add task.")},T=async e=>{const a=n.value.find((a=>a.id===e));if(!a||!u.value||!u.value.uid)return void console.error("Cannot toggle task: Task not found or user not authenticated.");const s=a.completed;a.updating=!0,a.completed=!a.completed;try{await new Promise((e=>setTimeout(e,300))),await(0,f.mZ)((0,f.H9)(y,"tasks",e),{completed:a.completed})}catch(t){console.error("Error updating task:",t),a.completed=s}finally{a.updating=!1}},M=async e=>{const a=n.value.findIndex((a=>a.id===e));if(-1===a||!u.value||!u.value.uid)return void console.error("Cannot delete task: Task not found or user not authenticated.");const s=n.value[a];s.deleting=!0;try{await new Promise((e=>setTimeout(e,300))),await(0,f.kd)((0,f.H9)(y,"tasks",e)),n.value=n.value.filter((a=>a.id!==e))}catch(t){console.error("Error deleting task:",t),s&&(s.deleting=!1)}},P=e=>{const a={easy:"–õ–µ–≥–∫–æ",normal:"–ù–æ—Ä–º–∞–ª—å–Ω–æ",hard:"–°–ª–æ–∂–Ω–æ"};return a[e]||a.normal},V=e=>{if(!e)return"";let a;return a=e.toDate&&"function"===typeof e.toDate?e.toDate():e instanceof Date?e:new Date(e),isNaN(a.getTime())?"–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞":a.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"})},S=()=>{if(!m.value)return"";const e=new Date(g.value),a=Math.floor((e.getTime()-m.value.getTime())/1e3);if(a<60)return a<=5?"—Ç–æ–ª—å–∫–æ —á—Ç–æ":`${a} —Å–µ–∫. –Ω–∞–∑–∞–¥`;if(a<3600){const e=Math.floor(a/60);return`${e} –º–∏–Ω. –Ω–∞–∑–∞–¥`}if(a<86400){const e=Math.floor(a/3600);return`${e} —á–∞—Å. –Ω–∞–∑–∞–¥`}return m.value.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})},U=()=>{switch(c.value){case"completed":return"–ù–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á";case"pending":return"–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!";default:return"–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!"}};return(0,l.sV)((()=>{w=setInterval((()=>{g.value=Date.now()}),1e3),(0,h.hg)(C,(async e=>{u.value=e,e?(console.log("MainPage: User logged in, UID:",e.uid),await R(e.uid),v.value?I():await D(e.uid)):(console.log("MainPage: User logged out or not authenticated."),n.value=[],K())}))})),(0,l.hi)((()=>{K(),w&&(clearInterval(w),w=null)})),(u,g)=>((0,l.uX)(),(0,l.CE)("div",na,[(0,l.Lk)("div",ra,[(0,l.Lk)("h1",ia,(0,o.v_)(e.msg),1),(0,l.Lk)("div",ca,[(0,l.Lk)("div",ua,[(0,l.Lk)("span",da,(0,o.v_)(E.value.length),1),g[5]||(g[5]=(0,l.Lk)("span",{class:"stat-label"},"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",-1))]),(0,l.Lk)("div",va,[(0,l.Lk)("span",pa,(0,o.v_)(_.value.length),1),g[6]||(g[6]=(0,l.Lk)("span",{class:"stat-label"},"–û—Å—Ç–∞–ª–æ—Å—å",-1))])])]),(0,l.Lk)("div",ma,[(0,l.Lk)("div",ka,[(0,l.Lk)("button",{onClick:B,class:(0,o.C4)(["refresh-button",{refreshing:d.value}]),disabled:d.value},[(0,l.Lk)("span",{class:(0,o.C4)(["refresh-icon",{spinning:d.value}])},"üîÑ",2),(0,l.Lk)("span",fa,(0,o.v_)(d.value?"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...":"–û–±–Ω–æ–≤–∏—Ç—å"),1)],10,ga),(0,l.Lk)("div",ha,[(0,l.Lk)("button",{onClick:X,class:(0,o.C4)(["sync-toggle-button",{active:v.value}])},[(0,l.Lk)("span",ba,(0,o.v_)(v.value?"üîí":"üîì"),1),(0,l.Lk)("span",La,(0,o.v_)(v.value?"–ê–≤—Ç–æ-—Å–∏–Ω—Ö –í–ö–õ":"–ê–≤—Ç–æ-—Å–∏–Ω—Ö –í–´–ö–õ"),1)],2),v.value?((0,l.uX)(),(0,l.CE)("div",wa,[(0,l.Lk)("span",{class:(0,o.C4)(["sync-indicator",{active:p.value}])},null,2),(0,l.Lk)("span",ya," –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+(0,o.v_)(k.value)+"—Å ",1)])):(0,l.Q3)("",!0)])]),m.value?((0,l.uX)(),(0,l.CE)("div",Ca,[(0,l.Lk)("span",Ea," –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+(0,o.v_)(S()),1)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",_a,[(0,l.Lk)("div",xa,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":g[0]||(g[0]=e=>a.value=e),placeholder:"–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞",class:(0,o.C4)(["task-input",{shake:r.value}]),onKeyup:(0,t.jR)(F,["enter"]),disabled:i.value},null,42,Ra),[[t.Jo,a.value]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":g[1]||(g[1]=e=>s.value=e),class:"difficulty-select",disabled:i.value},g[7]||(g[7]=[(0,l.Lk)("option",{value:"easy"},"–õ–µ–≥–∫–æ",-1),(0,l.Lk)("option",{value:"normal"},"–ù–æ—Ä–º–∞–ª—å–Ω–æ",-1),(0,l.Lk)("option",{value:"hard"},"–°–ª–æ–∂–Ω–æ",-1)]),8,Aa),[[t.u1,s.value]]),(0,l.Lk)("button",{onClick:F,class:"add-button",disabled:!a.value.trim()||i.value},[i.value?((0,l.uX)(),(0,l.CE)("span",Xa,g[9]||(g[9]=[(0,l.Lk)("span",{class:"spinner"},null,-1),(0,l.Lk)("span",{class:"button-text"},"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...",-1)]))):((0,l.uX)(),(0,l.CE)("span",Ba,g[8]||(g[8]=[(0,l.Lk)("span",{class:"button-text"},"–î–æ–±–∞–≤–∏—Ç—å",-1),(0,l.Lk)("span",{class:"button-icon"},"+",-1)])))],8,Da)])]),(0,l.Lk)("div",Ia,[(0,l.Lk)("div",Ka,[(0,l.Lk)("button",{onClick:g[2]||(g[2]=e=>c.value="all"),class:(0,o.C4)([{active:"all"===c.value},"filter-btn"])}," –í—Å–µ ("+(0,o.v_)(n.value.length)+") ",3),(0,l.Lk)("button",{onClick:g[3]||(g[3]=e=>c.value="pending"),class:(0,o.C4)([{active:"pending"===c.value},"filter-btn"])}," –ê–∫—Ç–∏–≤–Ω—ã–µ ("+(0,o.v_)(_.value.length)+") ",3),(0,l.Lk)("button",{onClick:g[4]||(g[4]=e=>c.value="completed"),class:(0,o.C4)([{active:"completed"===c.value},"filter-btn"])}," –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ ("+(0,o.v_)(E.value.length)+") ",3)])]),(0,l.Lk)("div",Fa,[(0,l.bF)(t.F,{name:"task-list",tag:"ul",class:"task-list"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(x.value,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:(0,o.C4)(["task-item",{deleting:e.deleting,completed:e.completed,updating:e.updating}])},[(0,l.Lk)("div",Ta,[(0,l.Lk)("div",Ma,[(0,l.Lk)("button",{onClick:a=>T(e.id),class:"checkbox-button",disabled:e.updating},[(0,l.Lk)("span",{class:(0,o.C4)(["checkbox",{checked:e.completed}])},[e.completed?((0,l.uX)(),(0,l.CE)("span",Va,"‚úì")):(0,l.Q3)("",!0)],2)],8,Pa),(0,l.Lk)("div",Sa,[(0,l.Lk)("span",{class:(0,o.C4)(["task-text",{completed:e.completed}])},(0,o.v_)(e.text),3),(0,l.Lk)("div",Ua,[(0,l.Lk)("span",{class:(0,o.C4)(["difficulty-badge",e.difficulty])},(0,o.v_)(P(e.difficulty)),3),(0,l.Lk)("span",$a,(0,o.v_)(V(e.createdAt)),1)])])]),(0,l.Lk)("div",Wa,[e.updating?((0,l.uX)(),(0,l.CE)("span",Oa)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:a=>M(e.id),class:"delete-button",disabled:e.deleting||e.updating},g[10]||(g[10]=[(0,l.Lk)("span",{class:"delete-icon"},"√ó",-1)]),8,qa)])])],2)))),128))])),_:1}),0===x.value.length?((0,l.uX)(),(0,l.CE)("div",Qa,[(0,l.Lk)("div",ja,(0,o.v_)("completed"===c.value?"üéâ":"pending"===c.value?"üìù":"üìã"),1),(0,l.Lk)("p",Ja,(0,o.v_)(U()),1)])):(0,l.Q3)("",!0)])]))}};const Ha=(0,B.A)(Na,[["__scopeId","data-v-b7b29240"]]);var Ya=Ha;const za=[{path:"/",name:"root",redirect:{name:"tasks"},meta:{requiresAuth:!0}},{path:"/login",name:"login",component:he,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:qe,meta:{requiresAuth:!1}},{path:"/reset-password",name:"reset-password",component:oa,meta:{requiresAuth:!1}},{path:"/tasks",name:"tasks",component:Ya,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)",redirect:"/"}],Za=(0,Q.aE)({history:(0,Q.Bt)("/todo-focus/"),routes:za}),es=()=>new Promise(((e,a)=>{const s=(0,h.hg)(C,(a=>{s(),e(a)}),a)}));Za.beforeEach((async(e,a,s)=>{const t=e.matched.some((e=>e.meta.requiresAuth)),l=await es();!t||l&&l.emailVerified?("/login"===e.path||"/register"===e.path||"/reset-password"===e.path||"/"===e.path)&&l&&l.emailVerified?(console.log(`Redirecting to /tasks from ${e.path} (user logged in and email verified, but on public auth page).`),s("/tasks")):(console.log(`Allowing navigation to ${e.path} (no special auth redirect needed).`),s()):"/login"!==e.path&&"/register"!==e.path&&"/reset-password"!==e.path?(console.log(`Redirecting to /login from ${e.path} (requires auth and/or email verification, but condition not met).`),s("/login")):(console.log(`Allowing navigation to ${e.path} (public auth page).`),s())}));var as=Za;(0,t.Ef)(q).use(as).mount("#app")}},a={};function s(t){var l=a[t];if(void 0!==l)return l.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(a,t,l,o){if(!t){var n=1/0;for(u=0;u<e.length;u++){t=e[u][0],l=e[u][1],o=e[u][2];for(var r=!0,i=0;i<t.length;i++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](t[i])}))?t.splice(i--,1):(r=!1,o<n&&(n=o));if(r){e.splice(u--,1);var c=l();void 0!==c&&(a=c)}}return a}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,l,o]}}(),function(){s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,{a:a}),a}}(),function(){s.d=function(e,a){for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};s.O.j=function(a){return 0===e[a]};var a=function(a,t){var l,o,n=t[0],r=t[1],i=t[2],c=0;if(n.some((function(a){return 0!==e[a]}))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(i)var u=i(s)}for(a&&a(t);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},t=self["webpackChunktodo_focus"]=self["webpackChunktodo_focus"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=s.O(void 0,[504],(function(){return s(7190)}));t=s.O(t)})();
//# sourceMappingURL=app.7a039513.js.map